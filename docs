
<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cross-Border AI Assistant · Single File Demo</title>
  <!-- Tailwind CSS CDN (no build needed) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { color-scheme: light dark; }
  </style>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900">
  <header class="bg-white/80 backdrop-blur sticky top-0 z-20 border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-lg md:text-2xl font-bold">Cross-Border AI Assistant</h1>
      <div class="text-xs md:text-sm text-gray-500">GitHub Pages · 无需打包</div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-12 gap-6">
    <!-- 左侧：输入区 -->
    <section class="lg:col-span-5 space-y-4">
      <div class="bg-white rounded-2xl shadow-sm border p-4">
        <div class="mb-3">
          <div class="text-base font-semibold">输入配置</div>
          <div class="text-sm text-gray-500">支持 ASIN（演示）与多语言</div>
        </div>
        <div class="space-y-3">
          <label class="block text-sm">ASIN（可选）
            <div class="mt-1 flex gap-2">
              <input id="asin" class="w-full border rounded-lg px-3 py-2" placeholder="如：B09XXXXXXX"/>
              <button id="asinBtn" class="px-3 py-2 border rounded-lg">抓取</button>
            </div>
          </label>
          <label class="block text-sm">品牌
            <input id="brand" class="mt-1 w-full border rounded-lg px-3 py-2" value="CHIKNOW"/>
          </label>
          <label class="block text-sm">产品名称
            <input id="product" class="mt-1 w-full border rounded-lg px-3 py-2" value="2-in-1 Air Duster & Car Vacuum Cleaner"/>
          </label>
          <label class="block text-sm">关键参数（每行一条）
            <textarea id="features" rows="5" class="mt-1 w-full border rounded-lg px-3 py-2">110,000 RPM brushless motor
18,000Pa suction
Type-C fast charging
6000mAh battery
9 nozzles + 2 brushes</textarea>
          </label>
          <label class="block text-sm">语气 & 受众
            <input id="tone" class="mt-1 w-full border rounded-lg px-3 py-2" value="Concise, benefit-driven, conversion-focused"/>
          </label>
          <div class="flex items-center justify-between">
            <span class="text-sm">目标语言</span>
            <select id="lang" class="border rounded-lg px-3 py-2 text-sm">
              <option value="en" selected>English</option>
              <option value="es">Español</option>
              <option value="de">Deutsch</option>
              <option value="fr">Français</option>
              <option value="ja">日本語</option>
              <option value="zh">中文</option>
            </select>
          </div>
          <div class="pt-2">
            <button id="genBtn" class="w-full px-4 py-3 rounded-xl bg-black text-white font-medium">一键生成</button>
            <div id="progressWrap" class="hidden mt-2">
              <div class="text-xs text-gray-500 mb-1">正在生成内容…</div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div id="progressBar" class="bg-gray-900 h-2 rounded-full" style="width:10%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-sm border p-4 text-sm text-gray-600">
        <div class="font-medium mb-2">合规与发布提示</div>
        <ul class="list-disc list-inside space-y-1">
          <li>避免绝对化用语（如“最好”“最强”）。</li>
          <li>医疗/安全类表述需要来源依据。</li>
          <li>检查商标、禁词与当地法规（EPA/FCC/CE）。</li>
        </ul>
      </div>
    </section>

    <!-- 右侧：结果区 -->
    <section class="lg:col-span-7 space-y-4">
      <div class="bg-white rounded-2xl shadow-sm border">
        <div class="p-4 border-b">
          <div class="font-semibold">结果预览</div>
          <div class="text-sm text-gray-500">Listing / 关键词 / 广告文案</div>
        </div>
        <div class="p-4">
          <div class="grid grid-cols-3 gap-2 text-sm">
            <button class="tab-btn px-3 py-2 rounded-lg border bg-gray-900 text-white" data-tab="listing">Listing</button>
            <button class="tab-btn px-3 py-2 rounded-lg border" data-tab="keywords">关键词</button>
            <button class="tab-btn px-3 py-2 rounded-lg border" data-tab="ads">广告</button>
          </div>

          <div id="tab-listing" class="mt-3">
            <div id="listingEmpty" class="rounded-xl border p-6 text-center text-sm text-gray-600">等待生成</div>
            <div id="listingResult" class="hidden space-y-3">
              <div class="bg-gray-100 rounded-xl p-3 text-sm">
                <div class="flex justify-between items-start gap-3">
                  <pre id="listingText" class="whitespace-pre-wrap leading-relaxed"></pre>
                  <button data-copy="listingText" class="copy-btn px-3 py-2 border rounded-lg text-sm">复制</button>
                </div>
              </div>
            </div>
          </div>

          <div id="tab-keywords" class="mt-3 hidden">
            <div id="keywordsEmpty" class="rounded-xl border p-6 text-center text-sm text-gray-600">等待生成</div>
            <div id="keywordsResult" class="hidden space-y-2">
              <div id="keywordChips" class="flex flex-wrap gap-2"></div>
              <button id="copyAllKws" class="mt-2 px-3 py-2 border rounded-lg text-sm">复制全部</button>
            </div>
          </div>

          <div id="tab-ads" class="mt-3 hidden">
            <div id="adsEmpty" class="rounded-xl border p-6 text-center text-sm text-gray-600">等待生成</div>
            <div id="adsResult" class="hidden space-y-3">
              <div class="bg-gray-100 rounded-xl p-3 text-sm">
                <div class="flex justify-between items-start gap-3">
                  <pre id="adsText" class="whitespace-pre-wrap leading-relaxed"></pre>
                  <button data-copy="adsText" class="copy-btn px-3 py-2 border rounded-lg text-sm">复制</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="max-w-6xl mx-auto px-4 py-6 text-xs text-gray-500">
    <div>Single-file demo for GitHub Pages · 复制本文件为 <code>index.html</code> 放到仓库根目录或 <code>/docs</code> 目录即可预览。</div>
  </footer>

  <script>
    const sampleKeywords = [
      "cordless car vacuum","mini handheld vacuum","air duster for pc","keyboard cleaner",
      "110000 rpm blower","type-c fast charge","18kPa suction","pet hair remover","HEPA filter","portable detailing"
    ];

    // Tabs
    const tabs = document.querySelectorAll('.tab-btn');
    tabs.forEach(btn => btn.addEventListener('click', () => {
      const target = btn.dataset.tab;
      document.querySelectorAll('[id^=tab-]').forEach(p => p.classList.add('hidden'));
      document.getElementById('tab-'+target).classList.remove('hidden');
      tabs.forEach(b => b.classList.remove('bg-gray-900','text-white'));
      btn.classList.add('bg-gray-900','text-white');
    }));

    // Copy util
    function copyById(id){
      const el = document.getElementById(id);
      navigator.clipboard.writeText(el.innerText || el.textContent || '').then(()=>{
        alert('已复制');
      });
    }
    document.querySelectorAll('.copy-btn').forEach(b=>{
      b.addEventListener('click', ()=> copyById(b.dataset.copy));
    });

    // ASIN mock
    document.getElementById('asinBtn').addEventListener('click', ()=>{
      const asin = document.getElementById('asin').value.trim();
      if(!asin){ alert('请输入 ASIN'); return; }
      // 简单填充一些示例数据
      document.getElementById('product').value = '2-in-1 Air Duster & Car Vacuum Cleaner';
      document.getElementById('brand').value = document.getElementById('brand').value || 'CHIKNOW';
      document.getElementById('features').value = '110,000 RPM brushless motor\n18,000Pa suction\nType-C fast charging\n6000mAh battery\n9 nozzles + 2 brushes';
      alert('已根据 ASIN 模拟填充示例数据');
    });

    // Generate mock
    document.getElementById('genBtn').addEventListener('click', ()=>{
      const brand = document.getElementById('brand').value.trim();
      const product = document.getElementById('product').value.trim();
      const features = document.getElementById('features').value.trim();
      const tone = document.getElementById('tone').value.trim();
      const lang = document.getElementById('lang').value;
      const asin = document.getElementById('asin').value.trim() || 'N/A';

      const progressWrap = document.getElementById('progressWrap');
      const progressBar = document.getElementById('progressBar');
      progressWrap.classList.remove('hidden');
      progressBar.style.width = '10%';

      const steps = [30, 55, 78, 100];
      let i=0;
      const t = setInterval(()=>{
        progressBar.style.width = steps[i]+"%";
        i++;
        if(i===steps.length){
          clearInterval(t);
          progressWrap.classList.add('hidden');
          renderResults({brand, product, features, tone, lang, asin});
        }
      }, 400);
    });

    function renderResults({brand, product, features, tone, lang, asin}){
      // listing
      const title = `${brand? brand+" ":""}${product} – ${(features.split('\n')[0]||'High Performance')}`;
      const bullets = [
        `ASIN ${asin} 分析结果：差异化卖点结合。`,
        `Powerful performance: ${features||'High suction & strong airflow'}.`,
        `Optimized listing tone: ${tone}.`,
        `Localized for ${lang.toUpperCase()} shoppers.`,
        `Ideal for home, office, and car.`
      ];
      const listingText = title + "\n\n" + bullets.join("\n");
      document.getElementById('listingText').textContent = listingText;
      document.getElementById('listingEmpty').classList.add('hidden');
      document.getElementById('listingResult').classList.remove('hidden');

      // keywords
      const kws = sampleKeywords.sort(()=>Math.random()-0.5).slice(0,8);
      const chipWrap = document.getElementById('keywordChips');
      chipWrap.innerHTML = '';
      kws.forEach(k=>{
        const b = document.createElement('button');
        b.className = 'px-3 py-1 rounded-full bg-gray-100 text-sm hover:bg-gray-200';
        b.textContent = k;
        b.addEventListener('click', ()=> navigator.clipboard.writeText(k));
        chipWrap.appendChild(b);
      });
      document.getElementById('keywordsEmpty').classList.add('hidden');
      document.getElementById('keywordsResult').classList.remove('hidden');
      document.getElementById('copyAllKws').onclick = ()=> navigator.clipboard.writeText(kws.join(', '));

      // ads
      const adPrimary = `Boost your sales with ${product}!`;
      const adDesc = `${brand||'Our'} ${product} features advanced power, informed by ASIN ${asin}.`;
      document.getElementById('adsText').textContent = adPrimary + "\n" + adDesc;
      document.getElementById('adsEmpty').classList.add('hidden');
      document.getElementById('adsResult').classList.remove('hidden');
    }
  </script>
</body>
</html>
